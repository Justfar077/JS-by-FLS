<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="./css/reset.css">
	<link rel="stylesheet" href="./css/style.css">
	<link rel="shortcut icon" href="./img/favicon.ico">
	<title>Task 4</title>
</head>
<body>
	<div class="main">
		<div class="main__header">
			<div class="main__title">Задача № 4</div>
		</div>
		<div class="main__exercise exercise">
			<p class="exercise__description">
				Дано 3 таблиці розмірності 3*3 з випадковими числами. 
				Якщо відбувається клік на якійсь із клітинок, 
				то до відповідної таблиці додається червона рамка 
				(спробуйте додати можливість відображення кількості 
				кліків біля назви таблиці з використанням відповідно 
				доданого для цього атрибута).
			</p>
			<p class="exercise__result">
				<script>
					"use strict"


class Table{
	constructor(quantityTable, containerSelector){
		this.quantityTable = quantityTable
		this.containerSelector = containerSelector
		this.render()
	}
	getRandomNum(minNum, maxNum) {
		return minNum + Math.floor(Math.random() * (maxNum - minNum +1))
	}
	render(rowNum = 3, columnNum = 3){
		this.container = document.createElement('div')
		this.container.className = 'exercise__container-tables'

		for (let tableCount = 1; tableCount <= this.quantityTable; tableCount++) {
			this.table = document.createElement('table')
			this.table.className = 'exercise__table'
			this.table.setAttribute('table', `${tableCount}`)
			this.container.append(this.table)

			this.thead = document.createElement('thead')
			this.thead.className = 'exercise__table-thead'
			this.table.append(this.thead)

			this.tr_thead = document.createElement('tr')
			this.tr_thead.className = 'exercise__table-thead-tr'
			this.thead.append(this.tr_thead)

			this.th_thead = document.createElement('th')
			this.th_thead.className = 'exercise__table-thead-th'
			this.th_thead.innerText = 'Table click = '
			this.tr_thead.append(this.th_thead)

			this.th_thead_span = document.createElement('span')
			this.th_thead_span.className = 'exercise__table-click'
			this.th_thead_span.innerText = '0'
			this.th_thead.append(this.th_thead_span)

			this.table_tb = document.createElement('tb')
			this.table_tb.className = 'exercise__table-tb'
			this.table.append(this.table_tb)

			for (let tr = 0; tr < rowNum; tr++) {
				this.table_tr = document.createElement('tr')
				for (let th = 0; th < columnNum; th++) {
					this.table_th = document.createElement('th')
					this.table_th.innerText = this.getRandomNum(1,99)
					this.table_tr.append(this.table_th)
				}
				this.table_tb.append(this.table_tr)
			}
		}

		if (this.containerSelector)     
			document.querySelector(this.containerSelector).append(this.container)
	}

}

window.onload = function (){

	let myTable = new Table(3, '.exercise__result')

	let listTable = document.querySelectorAll('.exercise__table')
	for (const table of listTable) {
		table.onclick = function(){
			table.classList.toggle('border-red')
			let count = parseInt(table.querySelector('.exercise__table-click').innerText)
			count++
			table.querySelector('.exercise__table-click').innerText = count
		}
	}

}





				</script>
			</p>
		</div>
		<div class="main__link-block">
			<a class="main__link" href="index.html">Home</a>
		</div>
	</div>
</body>
</html>